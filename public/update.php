<?php        function cleanDate($a)    {      $date_limite = "/";      $tmp = split ("_", $a);      $a = ($tmp[2]=="00") ? $tmp[1].$date_limite.$tmp[0] : $tmp[2].$date_limite.$tmp[1].$date_limite.$tmp[0];      return $a;    }		function dateToRFC2822($date) {		list($y, $m, $d) = split("-", $date);		return date("r", mktime(0, 0, 0, $m  , $d, $y));	}       /* $dates */	$dates = array ();	$handle = opendir("dhjapan"); 	while (false !== ($folder = readdir($handle)))    { 		if ($folder != "." && $folder != "..") $dates[] = array("date" => $folder, "name" => cleanDate($folder)); 	}	closedir($handle);	rsort ($dates);	    // menu.json.php    $fp = fopen("api/menu.json.php", 'w+');    if (fwrite($fp,'<?php header(\'Access-Control-Allow-Origin: *\'); ?>'.json_encode($dates))) echo "<p>menuJSON:ok</p>";	else echo "<p>menuJSON:error</p>";    fclose($fp);  ?>